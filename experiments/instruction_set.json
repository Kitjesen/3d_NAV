{
  "version": "2.0",
  "description": "NaviMind 多级指令评测集 (L1–L5, 108 条)",
  "environment": "indoor_office_corridor",
  "coordinate_frame": "map (ROS REP-103: x=forward, y=left, z=up). 仿真测试坐标, 非绑定真实地图。",
  "notes": "每条指令标注 start_position, target_position (GT), difficulty, category。v2.0 新增属性、否定、比较、意图、探索五类。",

  "L1_simple": {
    "description": "简单单步目标导航指令 (20 条)",
    "difficulty": "easy",
    "instructions": [
      {
        "id": "L1-01",
        "instruction_zh": "找到门",
        "instruction_en": "find the door",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 3.5, "y": 1.2, "z": 0.0},
        "target_label": "door",
        "arrival_radius_m": 1.0,
        "category": "structure"
      },
      {
        "id": "L1-02",
        "instruction_zh": "找椅子",
        "instruction_en": "find a chair",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 5.0, "y": 2.0, "z": 0.0},
        "target_label": "chair",
        "arrival_radius_m": 1.0,
        "category": "furniture"
      },
      {
        "id": "L1-03",
        "instruction_zh": "找灭火器",
        "instruction_en": "find the fire extinguisher",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 8.0, "y": 0.5, "z": 0.8},
        "target_label": "fire extinguisher",
        "arrival_radius_m": 1.0,
        "category": "safety"
      },
      {
        "id": "L1-04",
        "instruction_zh": "去桌子那里",
        "instruction_en": "go to the desk",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.0, "y": 3.5, "z": 0.0},
        "target_label": "desk",
        "arrival_radius_m": 1.0,
        "category": "furniture"
      },
      {
        "id": "L1-05",
        "instruction_zh": "找到楼梯",
        "instruction_en": "find the stairs",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 12.0, "y": -1.0, "z": 0.0},
        "target_label": "stairs",
        "arrival_radius_m": 1.5,
        "category": "structure"
      },
      {
        "id": "L1-06",
        "instruction_zh": "找电梯",
        "instruction_en": "find the elevator",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 15.0, "y": 0.0, "z": 0.0},
        "target_label": "elevator",
        "arrival_radius_m": 1.5,
        "category": "structure"
      },
      {
        "id": "L1-07",
        "instruction_zh": "找标志牌",
        "instruction_en": "find the sign",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 6.0, "y": -0.5, "z": 1.5},
        "target_label": "sign",
        "arrival_radius_m": 1.0,
        "category": "utility"
      },
      {
        "id": "L1-08",
        "instruction_zh": "找到垃圾桶",
        "instruction_en": "find the trash can",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 2.5, "y": 4.0, "z": 0.0},
        "target_label": "trash can",
        "arrival_radius_m": 1.0,
        "category": "utility"
      },
      {
        "id": "L1-09",
        "instruction_zh": "找沙发",
        "instruction_en": "find the sofa",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 7.0, "y": 5.0, "z": 0.0},
        "target_label": "sofa",
        "arrival_radius_m": 1.0,
        "category": "furniture"
      },
      {
        "id": "L1-10",
        "instruction_zh": "找到人",
        "instruction_en": "find a person",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 6.0, "y": 2.0, "z": 0.0},
        "target_label": "person",
        "arrival_radius_m": 1.5,
        "category": "person"
      },
      {
        "id": "L1-11",
        "instruction_zh": "去显示器那里",
        "instruction_en": "go to the monitor",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.5, "y": 3.0, "z": 0.8},
        "target_label": "monitor",
        "arrival_radius_m": 1.0,
        "category": "electronics"
      },
      {
        "id": "L1-12",
        "instruction_zh": "找冰箱",
        "instruction_en": "find the refrigerator",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 10.0, "y": 6.0, "z": 0.0},
        "target_label": "refrigerator",
        "arrival_radius_m": 1.0,
        "category": "utility"
      },
      {
        "id": "L1-13",
        "instruction_zh": "找水瓶",
        "instruction_en": "find a bottle",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 5.0, "y": 3.0, "z": 0.8},
        "target_label": "bottle",
        "arrival_radius_m": 1.0,
        "category": "utility"
      },
      {
        "id": "L1-14",
        "instruction_zh": "找窗户",
        "instruction_en": "find the window",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 3.0, "y": 6.0, "z": 1.0},
        "target_label": "window",
        "arrival_radius_m": 1.0,
        "category": "structure"
      },
      {
        "id": "L1-15",
        "instruction_zh": "找架子",
        "instruction_en": "find the shelf",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 9.0, "y": 4.0, "z": 0.0},
        "target_label": "shelf",
        "arrival_radius_m": 1.0,
        "category": "furniture"
      },
      {
        "id": "L1-16",
        "instruction_zh": "找到柜子",
        "instruction_en": "find the cabinet",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 8.0, "y": 3.0, "z": 0.0},
        "target_label": "cabinet",
        "arrival_radius_m": 1.0,
        "category": "furniture"
      },
      {
        "id": "L1-17",
        "instruction_zh": "找灯",
        "instruction_en": "find a lamp",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.0, "y": 2.5, "z": 1.2},
        "target_label": "lamp",
        "arrival_radius_m": 1.0,
        "category": "utility"
      },
      {
        "id": "L1-18",
        "instruction_zh": "找到电脑",
        "instruction_en": "find the computer",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 5.0, "y": 3.0, "z": 0.7},
        "target_label": "computer",
        "arrival_radius_m": 1.0,
        "category": "electronics"
      },
      {
        "id": "L1-19",
        "instruction_zh": "找电视",
        "instruction_en": "find the TV",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 7.0, "y": 5.5, "z": 1.0},
        "target_label": "tv",
        "arrival_radius_m": 1.5,
        "category": "electronics"
      },
      {
        "id": "L1-20",
        "instruction_zh": "找到出口",
        "instruction_en": "find the exit",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 14.0, "y": 0.0, "z": 0.0},
        "target_label": "exit door",
        "arrival_radius_m": 1.5,
        "category": "structure"
      }
    ]
  },

  "L1b_attribute": {
    "description": "属性限定目标导航 (10 条) — 需要颜色/大小/状态属性消歧",
    "difficulty": "easy-medium",
    "instructions": [
      {
        "id": "L1b-01",
        "instruction_zh": "找红色的椅子",
        "instruction_en": "find the red chair",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 5.0, "y": 2.0, "z": 0.4},
        "target_label": "red chair",
        "arrival_radius_m": 1.0,
        "category": "attribute_color",
        "required_reasoning": "attribute_match(chair, color=red)"
      },
      {
        "id": "L1b-02",
        "instruction_zh": "找大的显示器",
        "instruction_en": "find the large monitor",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.5, "y": 3.0, "z": 0.8},
        "target_label": "large monitor",
        "arrival_radius_m": 1.0,
        "category": "attribute_size",
        "required_reasoning": "attribute_match(monitor, size=large)"
      },
      {
        "id": "L1b-03",
        "instruction_zh": "找白色的门",
        "instruction_en": "find the white door",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 3.5, "y": 1.2, "z": 1.0},
        "target_label": "white door",
        "arrival_radius_m": 1.0,
        "category": "attribute_color",
        "required_reasoning": "attribute_match(door, color=white)"
      },
      {
        "id": "L1b-04",
        "instruction_zh": "找小的垃圾桶",
        "instruction_en": "find the small trash can",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.2, "y": 3.8, "z": 0.0},
        "target_label": "small trash can",
        "arrival_radius_m": 1.0,
        "category": "attribute_size",
        "required_reasoning": "attribute_match(trash_can, size=small)"
      },
      {
        "id": "L1b-05",
        "instruction_zh": "找打开的窗户",
        "instruction_en": "find the open window",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 3.0, "y": 6.0, "z": 1.0},
        "target_label": "open window",
        "arrival_radius_m": 1.0,
        "category": "attribute_state",
        "required_reasoning": "attribute_match(window, state=open)"
      },
      {
        "id": "L1b-06",
        "instruction_zh": "找黑色的键盘",
        "instruction_en": "find the black keyboard",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.2, "y": 3.2, "z": 0.75},
        "target_label": "black keyboard",
        "arrival_radius_m": 1.0,
        "category": "attribute_color",
        "required_reasoning": "attribute_match(keyboard, color=black)"
      },
      {
        "id": "L1b-07",
        "instruction_zh": "找那个亮着的灯",
        "instruction_en": "find the lamp that is on",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.0, "y": 2.5, "z": 1.2},
        "target_label": "lamp on",
        "arrival_radius_m": 1.0,
        "category": "attribute_state",
        "required_reasoning": "attribute_match(lamp, state=on)"
      },
      {
        "id": "L1b-08",
        "instruction_zh": "找蓝色的沙发",
        "instruction_en": "find the blue sofa",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 7.0, "y": 5.0, "z": 0.4},
        "target_label": "blue sofa",
        "arrival_radius_m": 1.0,
        "category": "attribute_color",
        "required_reasoning": "attribute_match(sofa, color=blue)"
      },
      {
        "id": "L1b-09",
        "instruction_zh": "找高的架子",
        "instruction_en": "find the tall shelf",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 9.0, "y": 4.0, "z": 0.0},
        "target_label": "tall shelf",
        "arrival_radius_m": 1.0,
        "category": "attribute_size",
        "required_reasoning": "attribute_match(shelf, size=tall)"
      },
      {
        "id": "L1b-10",
        "instruction_zh": "找金属的柜子",
        "instruction_en": "find the metal cabinet",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 8.0, "y": 3.0, "z": 0.0},
        "target_label": "metal cabinet",
        "arrival_radius_m": 1.0,
        "category": "attribute_material",
        "required_reasoning": "attribute_match(cabinet, material=metal)"
      }
    ]
  },

  "L2_spatial": {
    "description": "空间条件指令 (15 条) — 需要利用空间关系 + 场景图层次推理",
    "difficulty": "medium",
    "instructions": [
      {
        "id": "L2-01",
        "instruction_zh": "找门旁边的灭火器",
        "instruction_en": "find the fire extinguisher near the door",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.0, "y": 1.0, "z": 0.8},
        "target_label": "fire extinguisher near door",
        "arrival_radius_m": 1.0,
        "category": "spatial_relation",
        "required_reasoning": "near(fire_extinguisher, door)"
      },
      {
        "id": "L2-02",
        "instruction_zh": "去有椅子的那个区域",
        "instruction_en": "go to the area with chairs",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 5.0, "y": 3.0, "z": 0.0},
        "target_label": "area with chairs",
        "arrival_radius_m": 2.0,
        "category": "room_reference",
        "required_reasoning": "room_contains(chair)"
      },
      {
        "id": "L2-03",
        "instruction_zh": "找楼梯旁边的标志牌",
        "instruction_en": "find the sign near the stairs",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 11.5, "y": -0.5, "z": 1.5},
        "target_label": "sign near stairs",
        "arrival_radius_m": 1.0,
        "category": "spatial_relation",
        "required_reasoning": "near(sign, stairs)"
      },
      {
        "id": "L2-04",
        "instruction_zh": "去办公桌上面的显示器",
        "instruction_en": "go to the monitor on the desk",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.5, "y": 3.0, "z": 0.8},
        "target_label": "monitor on desk",
        "arrival_radius_m": 1.0,
        "category": "spatial_relation",
        "required_reasoning": "on(monitor, desk)"
      },
      {
        "id": "L2-05",
        "instruction_zh": "去走廊尽头的门",
        "instruction_en": "go to the door at the end of the corridor",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 15.0, "y": 0.5, "z": 0.0},
        "target_label": "door at corridor end",
        "arrival_radius_m": 1.5,
        "category": "room_reference",
        "required_reasoning": "in_room(door, corridor) + farthest"
      },
      {
        "id": "L2-06",
        "instruction_zh": "找桌子下面的垃圾桶",
        "instruction_en": "find the trash can under the desk",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.2, "y": 3.8, "z": 0.0},
        "target_label": "trash can under desk",
        "arrival_radius_m": 1.0,
        "category": "spatial_relation",
        "required_reasoning": "near(trash_can, desk) + below"
      },
      {
        "id": "L2-07",
        "instruction_zh": "去有沙发的区域",
        "instruction_en": "go to the area with the sofa",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 7.0, "y": 5.0, "z": 0.0},
        "target_label": "area with sofa",
        "arrival_radius_m": 2.0,
        "category": "room_reference",
        "required_reasoning": "room_contains(sofa)"
      },
      {
        "id": "L2-08",
        "instruction_zh": "找电梯旁边的按钮",
        "instruction_en": "find the button near the elevator",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 14.5, "y": 0.5, "z": 1.0},
        "target_label": "button near elevator",
        "arrival_radius_m": 1.0,
        "category": "spatial_relation",
        "required_reasoning": "near(button, elevator)"
      },
      {
        "id": "L2-09",
        "instruction_zh": "找窗户旁边的椅子",
        "instruction_en": "find the chair near the window",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 3.5, "y": 5.5, "z": 0.0},
        "target_label": "chair near window",
        "arrival_radius_m": 1.0,
        "category": "spatial_relation",
        "required_reasoning": "near(chair, window)"
      },
      {
        "id": "L2-10",
        "instruction_zh": "去离我最近的门",
        "instruction_en": "go to the nearest door",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 3.5, "y": 1.2, "z": 0.0},
        "target_label": "nearest door",
        "arrival_radius_m": 1.0,
        "category": "distance_reference",
        "required_reasoning": "nearest(door)"
      },
      {
        "id": "L2-11",
        "instruction_zh": "找办公室里的电脑",
        "instruction_en": "find the computer in the office",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 5.0, "y": 3.0, "z": 0.7},
        "target_label": "computer in office",
        "arrival_radius_m": 1.0,
        "category": "room_reference",
        "required_reasoning": "in_room(computer, office)"
      },
      {
        "id": "L2-12",
        "instruction_zh": "找门左边的灭火器",
        "instruction_en": "find the fire extinguisher to the left of the door",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 3.0, "y": 1.5, "z": 0.8},
        "target_label": "fire extinguisher left of door",
        "arrival_radius_m": 1.0,
        "category": "spatial_relation",
        "required_reasoning": "left_of(fire_extinguisher, door)"
      },
      {
        "id": "L2-13",
        "instruction_zh": "找储物间里的架子",
        "instruction_en": "find the shelf in the storage room",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 9.0, "y": 4.0, "z": 0.0},
        "target_label": "shelf in storage room",
        "arrival_radius_m": 1.0,
        "category": "room_reference",
        "required_reasoning": "in_room(shelf, storage)"
      },
      {
        "id": "L2-14",
        "instruction_zh": "去有冰箱的房间",
        "instruction_en": "go to the room with the refrigerator",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 10.0, "y": 6.0, "z": 0.0},
        "target_label": "room with refrigerator",
        "arrival_radius_m": 2.0,
        "category": "room_reference",
        "required_reasoning": "room_contains(refrigerator)"
      },
      {
        "id": "L2-15",
        "instruction_zh": "找沙发前面的桌子",
        "instruction_en": "find the table in front of the sofa",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 6.5, "y": 4.5, "z": 0.0},
        "target_label": "table in front of sofa",
        "arrival_radius_m": 1.0,
        "category": "spatial_relation",
        "required_reasoning": "in_front_of(table, sofa)"
      }
    ]
  },

  "L2b_negation": {
    "description": "否定/消歧义指令 (10 条) — 需要排除特定候选或选择替代目标",
    "difficulty": "medium-hard",
    "instructions": [
      {
        "id": "L2b-01",
        "instruction_zh": "找一把椅子，不要窗户旁边那把",
        "instruction_en": "find a chair, not the one near the window",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 5.0, "y": 2.0, "z": 0.4},
        "target_label": "chair",
        "arrival_radius_m": 1.0,
        "category": "negation",
        "required_reasoning": "select(chair) AND NOT near(chair, window)"
      },
      {
        "id": "L2b-02",
        "instruction_zh": "找灭火器，但不是门口那个",
        "instruction_en": "find a fire extinguisher, but not the one by the door",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 8.0, "y": 0.5, "z": 0.8},
        "target_label": "fire extinguisher",
        "arrival_radius_m": 1.0,
        "category": "negation",
        "required_reasoning": "select(fire_extinguisher) AND NOT near(fire_extinguisher, door_0)"
      },
      {
        "id": "L2b-03",
        "instruction_zh": "去另一个门，不是最近的那个",
        "instruction_en": "go to another door, not the nearest one",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 8.0, "y": 0.5, "z": 1.0},
        "target_label": "door",
        "arrival_radius_m": 1.5,
        "category": "negation",
        "required_reasoning": "select(door) AND NOT nearest(door)"
      },
      {
        "id": "L2b-04",
        "instruction_zh": "找垃圾桶，不要办公室里的",
        "instruction_en": "find a trash can, not the one in the office",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 2.5, "y": 4.0, "z": 0.0},
        "target_label": "trash can",
        "arrival_radius_m": 1.0,
        "category": "negation",
        "required_reasoning": "select(trash_can) AND NOT in_room(trash_can, office)"
      },
      {
        "id": "L2b-05",
        "instruction_zh": "找标志牌，不是走廊中间那个",
        "instruction_en": "find a sign, not the one in the middle of the corridor",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 11.5, "y": -0.5, "z": 1.5},
        "target_label": "sign",
        "arrival_radius_m": 1.0,
        "category": "negation",
        "required_reasoning": "select(sign) AND NOT middle_corridor(sign)"
      },
      {
        "id": "L2b-06",
        "instruction_zh": "找一个不是桌子旁边的椅子",
        "instruction_en": "find a chair that is not next to a desk",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 3.5, "y": 5.5, "z": 0.4},
        "target_label": "chair",
        "arrival_radius_m": 1.0,
        "category": "negation",
        "required_reasoning": "select(chair) AND NOT near(chair, desk)"
      },
      {
        "id": "L2b-07",
        "instruction_zh": "去走廊里的门，不要去楼梯间方向",
        "instruction_en": "go to a door in the corridor, not toward the stairwell",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 3.5, "y": 1.2, "z": 1.0},
        "target_label": "door",
        "arrival_radius_m": 1.5,
        "category": "negation",
        "required_reasoning": "select(door) AND in_room(corridor) AND NOT direction(stairwell)"
      },
      {
        "id": "L2b-08",
        "instruction_zh": "找一个不在厨房里的垃圾桶",
        "instruction_en": "find a trash can that is not in the kitchen",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 2.5, "y": 4.0, "z": 0.0},
        "target_label": "trash can",
        "arrival_radius_m": 1.0,
        "category": "negation",
        "required_reasoning": "select(trash_can) AND NOT in_room(trash_can, kitchen)"
      },
      {
        "id": "L2b-09",
        "instruction_zh": "我刚去过那把椅子了，帮我找另一把",
        "instruction_en": "I already visited that chair, find me another one",
        "start_position": {"x": 5.0, "y": 2.0, "z": 0.0},
        "target_position": {"x": 3.5, "y": 5.5, "z": 0.4},
        "target_label": "chair",
        "arrival_radius_m": 1.0,
        "category": "disambiguation",
        "required_reasoning": "select(chair) AND NOT visited(chair_11)"
      },
      {
        "id": "L2b-10",
        "instruction_zh": "不是这个灭火器，是另一个",
        "instruction_en": "not this fire extinguisher, the other one",
        "start_position": {"x": 4.0, "y": 1.0, "z": 0.0},
        "target_position": {"x": 8.0, "y": 0.5, "z": 0.8},
        "target_label": "fire extinguisher",
        "arrival_radius_m": 1.0,
        "category": "disambiguation",
        "required_reasoning": "select(fire_extinguisher) AND NOT current_target"
      }
    ]
  },

  "L2c_comparative": {
    "description": "比较/最高级指令 (8 条) — 需要排序、距离计算、序数推理",
    "difficulty": "medium-hard",
    "instructions": [
      {
        "id": "L2c-01",
        "instruction_zh": "找最远的那个门",
        "instruction_en": "find the farthest door",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 15.0, "y": 0.5, "z": 1.0},
        "target_label": "farthest door",
        "arrival_radius_m": 1.5,
        "category": "superlative",
        "required_reasoning": "farthest(door, robot_position)"
      },
      {
        "id": "L2c-02",
        "instruction_zh": "去第二扇门",
        "instruction_en": "go to the second door",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 8.0, "y": 0.5, "z": 1.0},
        "target_label": "second door",
        "arrival_radius_m": 1.5,
        "category": "ordinal",
        "required_reasoning": "ordinal(door, 2, by_distance)"
      },
      {
        "id": "L2c-03",
        "instruction_zh": "找离电梯最近的灭火器",
        "instruction_en": "find the fire extinguisher closest to the elevator",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 12.0, "y": -0.5, "z": 0.8},
        "target_label": "fire extinguisher near elevator",
        "arrival_radius_m": 1.0,
        "category": "comparative",
        "required_reasoning": "nearest(fire_extinguisher, elevator)"
      },
      {
        "id": "L2c-04",
        "instruction_zh": "找可信度最高的物体",
        "instruction_en": "find the object with the highest confidence",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.0, "y": 3.5, "z": 0.7},
        "target_label": "desk",
        "arrival_radius_m": 1.0,
        "category": "belief_query",
        "required_reasoning": "argmax(credibility)"
      },
      {
        "id": "L2c-05",
        "instruction_zh": "去走廊里第三个灭火器",
        "instruction_en": "go to the third fire extinguisher in the corridor",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 12.0, "y": -0.5, "z": 0.8},
        "target_label": "third fire extinguisher",
        "arrival_radius_m": 1.0,
        "category": "ordinal",
        "required_reasoning": "ordinal(fire_extinguisher, 3, by_position_x)"
      },
      {
        "id": "L2c-06",
        "instruction_zh": "找离楼梯比较近的门",
        "instruction_en": "find a door that is closer to the stairs",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 12.0, "y": 0.5, "z": 1.0},
        "target_label": "door near stairs",
        "arrival_radius_m": 1.5,
        "category": "comparative",
        "required_reasoning": "nearest(door, stairs)"
      },
      {
        "id": "L2c-07",
        "instruction_zh": "去最近的有桌子的房间",
        "instruction_en": "go to the nearest room with a desk",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.5, "y": 3.5, "z": 0.0},
        "target_label": "office",
        "arrival_radius_m": 2.0,
        "category": "comparative",
        "required_reasoning": "nearest(room_contains(desk))"
      },
      {
        "id": "L2c-08",
        "instruction_zh": "去物品最多的房间看看",
        "instruction_en": "go to the room with the most objects",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 8.0, "y": 0.0, "z": 0.0},
        "target_label": "corridor",
        "arrival_radius_m": 2.0,
        "category": "superlative",
        "required_reasoning": "argmax(room, object_count)"
      }
    ]
  },

  "L3_multistep": {
    "description": "多步序列指令 (10 条) — 需要任务分解 + 闭环执行反馈",
    "difficulty": "hard",
    "instructions": [
      {
        "id": "L3-01",
        "instruction_zh": "先去门那里，然后找附近的灭火器",
        "instruction_en": "first go to the door, then find the fire extinguisher nearby",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "door", "position": {"x": 3.5, "y": 1.2, "z": 0.0}},
          {"label": "fire extinguisher", "position": {"x": 4.0, "y": 1.0, "z": 0.8}}
        ],
        "target_position": {"x": 4.0, "y": 1.0, "z": 0.8},
        "target_label": "fire extinguisher near door",
        "arrival_radius_m": 1.0,
        "category": "sequential",
        "step_count": 2
      },
      {
        "id": "L3-02",
        "instruction_zh": "去走廊尽头，如果没看到灭火器就回来",
        "instruction_en": "go to the end of the corridor, if you don't see a fire extinguisher come back",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "corridor end", "position": {"x": 15.0, "y": 0.5, "z": 0.0}},
          {"label": "fire extinguisher (conditional)", "position": {"x": 8.0, "y": 0.5, "z": 0.8}}
        ],
        "target_position": {"x": 8.0, "y": 0.5, "z": 0.8},
        "target_label": "fire extinguisher or return",
        "arrival_radius_m": 1.5,
        "category": "conditional",
        "step_count": 2
      },
      {
        "id": "L3-03",
        "instruction_zh": "先找到椅子，然后去旁边的桌子",
        "instruction_en": "first find the chair, then go to the desk next to it",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "chair", "position": {"x": 5.0, "y": 2.0, "z": 0.0}},
          {"label": "desk near chair", "position": {"x": 4.5, "y": 3.0, "z": 0.0}}
        ],
        "target_position": {"x": 4.5, "y": 3.0, "z": 0.0},
        "target_label": "desk near chair",
        "arrival_radius_m": 1.0,
        "category": "sequential",
        "step_count": 2
      },
      {
        "id": "L3-04",
        "instruction_zh": "去办公室找电脑，然后去走廊找灭火器",
        "instruction_en": "go to the office to find the computer, then go to the corridor to find the fire extinguisher",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "computer in office", "position": {"x": 5.0, "y": 3.0, "z": 0.7}},
          {"label": "fire extinguisher in corridor", "position": {"x": 8.0, "y": 0.5, "z": 0.8}}
        ],
        "target_position": {"x": 8.0, "y": 0.5, "z": 0.8},
        "target_label": "fire extinguisher",
        "arrival_radius_m": 1.0,
        "category": "sequential_cross_room",
        "step_count": 2
      },
      {
        "id": "L3-05",
        "instruction_zh": "找到电梯，按下按钮，然后去楼梯间",
        "instruction_en": "find the elevator, press the button, then go to the stairwell",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "elevator", "position": {"x": 15.0, "y": 0.0, "z": 0.0}},
          {"label": "elevator button", "position": {"x": 14.5, "y": 0.5, "z": 1.0}},
          {"label": "stairwell", "position": {"x": 12.0, "y": -1.0, "z": 0.0}}
        ],
        "target_position": {"x": 12.0, "y": -1.0, "z": 0.0},
        "target_label": "stairwell",
        "arrival_radius_m": 1.5,
        "category": "sequential",
        "step_count": 3
      },
      {
        "id": "L3-06",
        "instruction_zh": "先检查走廊里的标志牌，然后去最近的门",
        "instruction_en": "first check the sign in the corridor, then go to the nearest door",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "sign in corridor", "position": {"x": 6.0, "y": -0.5, "z": 1.5}},
          {"label": "nearest door", "position": {"x": 3.5, "y": 1.2, "z": 0.0}}
        ],
        "target_position": {"x": 3.5, "y": 1.2, "z": 0.0},
        "target_label": "nearest door",
        "arrival_radius_m": 1.0,
        "category": "sequential",
        "step_count": 2
      },
      {
        "id": "L3-07",
        "instruction_zh": "去有沙发的区域，看看有没有人，如果没有就去办公室",
        "instruction_en": "go to the area with the sofa, see if anyone is there, if not go to the office",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "sofa area", "position": {"x": 7.0, "y": 5.0, "z": 0.0}},
          {"label": "person (conditional)", "position": {"x": 6.0, "y": 2.0, "z": 0.0}},
          {"label": "office (fallback)", "position": {"x": 5.0, "y": 3.0, "z": 0.0}}
        ],
        "target_position": {"x": 6.0, "y": 2.0, "z": 0.0},
        "target_label": "person or office",
        "arrival_radius_m": 1.5,
        "category": "conditional",
        "step_count": 3
      },
      {
        "id": "L3-08",
        "instruction_zh": "找到冰箱，然后找旁边的垃圾桶",
        "instruction_en": "find the refrigerator, then find the trash can nearby",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "refrigerator", "position": {"x": 10.0, "y": 6.0, "z": 0.0}},
          {"label": "trash can near refrigerator", "position": {"x": 10.5, "y": 5.5, "z": 0.0}}
        ],
        "target_position": {"x": 10.5, "y": 5.5, "z": 0.0},
        "target_label": "trash can near refrigerator",
        "arrival_radius_m": 1.0,
        "category": "sequential",
        "step_count": 2
      },
      {
        "id": "L3-09",
        "instruction_zh": "先巡视走廊的所有门，然后去电梯",
        "instruction_en": "first patrol all doors in the corridor, then go to the elevator",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "door 1", "position": {"x": 3.5, "y": 1.2, "z": 0.0}},
          {"label": "door 2", "position": {"x": 8.0, "y": 0.5, "z": 0.0}},
          {"label": "door 3", "position": {"x": 12.0, "y": 0.5, "z": 0.0}},
          {"label": "elevator", "position": {"x": 15.0, "y": 0.0, "z": 0.0}}
        ],
        "target_position": {"x": 15.0, "y": 0.0, "z": 0.0},
        "target_label": "elevator",
        "arrival_radius_m": 1.5,
        "category": "sequential_multi",
        "step_count": 4
      },
      {
        "id": "L3-10",
        "instruction_zh": "探索整个区域，找到所有灭火器的位置",
        "instruction_en": "explore the entire area and locate all fire extinguishers",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "fire extinguisher 1", "position": {"x": 4.0, "y": 1.0, "z": 0.8}},
          {"label": "fire extinguisher 2", "position": {"x": 8.0, "y": 0.5, "z": 0.8}},
          {"label": "fire extinguisher 3", "position": {"x": 12.0, "y": -0.5, "z": 0.8}}
        ],
        "target_position": {"x": 12.0, "y": -0.5, "z": 0.8},
        "target_label": "all fire extinguishers",
        "arrival_radius_m": 1.0,
        "category": "exploration",
        "step_count": 3
      }
    ]
  },

  "L3b_conditional": {
    "description": "复杂条件多步指令 (10 条) — 需要 LLM 推理、条件分支、失败回退",
    "difficulty": "hard",
    "instructions": [
      {
        "id": "L3b-01",
        "instruction_zh": "去厨房看看有没有水，如果没有就去办公室找水瓶",
        "instruction_en": "go to the kitchen to check for water, if none then go to the office to find a bottle",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "kitchen", "position": {"x": 10.0, "y": 6.0, "z": 0.0}},
          {"label": "bottle in office (fallback)", "position": {"x": 5.0, "y": 3.0, "z": 0.85}}
        ],
        "target_position": {"x": 10.0, "y": 6.0, "z": 0.0},
        "target_label": "water source",
        "arrival_radius_m": 2.0,
        "category": "conditional_cross_room",
        "step_count": 2,
        "condition": "if_not_found(water/bottle, kitchen) then goto(office)"
      },
      {
        "id": "L3b-02",
        "instruction_zh": "如果走廊里有人，去找他；如果没有，去休息区等着",
        "instruction_en": "if there is someone in the corridor, go find them; if not, go to the lounge and wait",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "person in corridor", "position": {"x": 6.0, "y": 2.0, "z": 0.0}},
          {"label": "lounge (fallback)", "position": {"x": 7.0, "y": 5.0, "z": 0.0}}
        ],
        "target_position": {"x": 6.0, "y": 2.0, "z": 0.0},
        "target_label": "person or lounge",
        "arrival_radius_m": 1.5,
        "category": "conditional_person",
        "step_count": 2,
        "condition": "if_found(person, corridor) then approach else goto(lounge)+wait"
      },
      {
        "id": "L3b-03",
        "instruction_zh": "帮我检查每个房间的门是否关好了",
        "instruction_en": "check if every room's door is properly closed",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "door office", "position": {"x": 3.5, "y": 1.2, "z": 1.0}},
          {"label": "door storage", "position": {"x": 8.0, "y": 0.5, "z": 1.0}},
          {"label": "door corridor end", "position": {"x": 12.0, "y": 0.5, "z": 1.0}}
        ],
        "target_position": {"x": 12.0, "y": 0.5, "z": 1.0},
        "target_label": "all doors",
        "arrival_radius_m": 1.5,
        "category": "patrol_verify",
        "step_count": 3,
        "condition": "for_each(door) verify(closed)"
      },
      {
        "id": "L3b-04",
        "instruction_zh": "先去储物间拿东西，然后送到办公室的桌子上",
        "instruction_en": "first get something from the storage room, then bring it to the desk in the office",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "storage room shelf", "position": {"x": 9.0, "y": 4.0, "z": 0.0}},
          {"label": "office desk", "position": {"x": 4.0, "y": 3.5, "z": 0.7}}
        ],
        "target_position": {"x": 4.0, "y": 3.5, "z": 0.7},
        "target_label": "desk in office",
        "arrival_radius_m": 1.0,
        "category": "transport",
        "step_count": 2
      },
      {
        "id": "L3b-05",
        "instruction_zh": "沿着走廊走，遇到灭火器就停下来确认一下，然后继续走到电梯",
        "instruction_en": "walk along the corridor, stop at each fire extinguisher to verify, then continue to the elevator",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "fire ext 1", "position": {"x": 4.0, "y": 1.0, "z": 0.8}},
          {"label": "fire ext 2", "position": {"x": 8.0, "y": 0.5, "z": 0.8}},
          {"label": "fire ext 3", "position": {"x": 12.0, "y": -0.5, "z": 0.8}},
          {"label": "elevator", "position": {"x": 15.0, "y": 0.0, "z": 0.0}}
        ],
        "target_position": {"x": 15.0, "y": 0.0, "z": 0.0},
        "target_label": "elevator",
        "arrival_radius_m": 1.5,
        "category": "patrol_verify",
        "step_count": 4,
        "condition": "for_each(fire_extinguisher, corridor) verify then goto(elevator)"
      },
      {
        "id": "L3b-06",
        "instruction_zh": "去办公室，如果电脑开着就关掉，然后去休息区",
        "instruction_en": "go to the office, if the computer is on turn it off, then go to the lounge",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "computer in office", "position": {"x": 5.0, "y": 3.0, "z": 0.7}},
          {"label": "lounge", "position": {"x": 7.0, "y": 5.0, "z": 0.0}}
        ],
        "target_position": {"x": 7.0, "y": 5.0, "z": 0.0},
        "target_label": "lounge",
        "arrival_radius_m": 2.0,
        "category": "conditional_action",
        "step_count": 3,
        "condition": "goto(office) then if(computer.on) interact else skip then goto(lounge)"
      },
      {
        "id": "L3b-07",
        "instruction_zh": "从起点出发，依次经过办公室、厨房、储物间，最后回到起点",
        "instruction_en": "start from here, go through office, kitchen, storage, then return to start",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "office", "position": {"x": 4.5, "y": 3.5, "z": 0.0}},
          {"label": "kitchen", "position": {"x": 10.0, "y": 6.0, "z": 0.0}},
          {"label": "storage", "position": {"x": 8.5, "y": 3.5, "z": 0.0}},
          {"label": "start", "position": {"x": 0.0, "y": 0.0, "z": 0.0}}
        ],
        "target_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_label": "start position",
        "arrival_radius_m": 1.5,
        "category": "loop_route",
        "step_count": 4
      },
      {
        "id": "L3b-08",
        "instruction_zh": "找到人之后跟着他走，如果他停下来超过10秒就去找椅子坐下",
        "instruction_en": "find the person and follow them, if they stop for 10 seconds go find a chair",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "person", "position": {"x": 6.0, "y": 2.0, "z": 0.0}},
          {"label": "chair (timeout fallback)", "position": {"x": 5.0, "y": 2.0, "z": 0.4}}
        ],
        "target_position": {"x": 6.0, "y": 2.0, "z": 0.0},
        "target_label": "person or chair",
        "arrival_radius_m": 1.5,
        "category": "follow_conditional",
        "step_count": 2,
        "condition": "follow(person) timeout(10s) then find(chair)"
      },
      {
        "id": "L3b-09",
        "instruction_zh": "去走廊检查安全设备，把每个灭火器的位置记下来，然后去出口等我",
        "instruction_en": "patrol the corridor checking safety equipment, log each extinguisher location, then wait at the exit",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "fire ext 1", "position": {"x": 4.0, "y": 1.0, "z": 0.8}},
          {"label": "fire ext 2", "position": {"x": 8.0, "y": 0.5, "z": 0.8}},
          {"label": "fire ext 3", "position": {"x": 12.0, "y": -0.5, "z": 0.8}},
          {"label": "exit door", "position": {"x": 14.0, "y": 0.0, "z": 1.0}}
        ],
        "target_position": {"x": 14.0, "y": 0.0, "z": 1.0},
        "target_label": "exit door",
        "arrival_radius_m": 1.5,
        "category": "patrol_log_wait",
        "step_count": 4,
        "condition": "for_each(fire_extinguisher) log_position then goto(exit) wait"
      },
      {
        "id": "L3b-10",
        "instruction_zh": "如果办公室有人就进去打招呼，没人就去走廊找人，走廊也没人就去休息区",
        "instruction_en": "if someone is in the office go greet them, otherwise check the corridor, finally try the lounge",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "office", "position": {"x": 4.5, "y": 3.5, "z": 0.0}},
          {"label": "corridor", "position": {"x": 8.0, "y": 0.0, "z": 0.0}},
          {"label": "lounge", "position": {"x": 7.0, "y": 5.0, "z": 0.0}}
        ],
        "target_position": {"x": 6.0, "y": 2.0, "z": 0.0},
        "target_label": "person",
        "arrival_radius_m": 1.5,
        "category": "conditional_chain",
        "step_count": 3,
        "condition": "if_found(person, office) approach else if_found(person, corridor) approach else goto(lounge)"
      }
    ]
  },

  "L4_intent": {
    "description": "意图/功能指令 (15 条) — 隐式目标, 需要语义先验推理房间/物体",
    "difficulty": "hard",
    "instructions": [
      {
        "id": "L4-01",
        "instruction_zh": "我想打印东西",
        "instruction_en": "I need to print something",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.5, "y": 3.5, "z": 0.0},
        "target_label": "office",
        "arrival_radius_m": 2.0,
        "category": "intent_office",
        "required_reasoning": "intent(print) → room_prior(office, printer=0.40)"
      },
      {
        "id": "L4-02",
        "instruction_zh": "我想喝水",
        "instruction_en": "I want to get some water",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 10.0, "y": 6.0, "z": 0.0},
        "target_label": "kitchen",
        "arrival_radius_m": 2.0,
        "category": "intent_kitchen",
        "required_reasoning": "intent(drink_water) → room_prior(kitchen, kettle=0.70 OR bottle=0.60)"
      },
      {
        "id": "L4-03",
        "instruction_zh": "我要上厕所",
        "instruction_en": "I need to use the restroom",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": -2.0, "y": 1.0, "z": 0.0},
        "target_label": "bathroom",
        "arrival_radius_m": 2.0,
        "category": "intent_bathroom",
        "required_reasoning": "intent(restroom) → room_prior(bathroom) → explore_if_unknown"
      },
      {
        "id": "L4-04",
        "instruction_zh": "我需要休息一下",
        "instruction_en": "I need to take a break",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 7.0, "y": 5.0, "z": 0.0},
        "target_label": "lounge",
        "arrival_radius_m": 2.0,
        "category": "intent_rest",
        "required_reasoning": "intent(rest) → room_prior(lounge, sofa=0.70)"
      },
      {
        "id": "L4-05",
        "instruction_zh": "带我去开会",
        "instruction_en": "take me to the meeting",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 6.0, "y": 7.0, "z": 0.0},
        "target_label": "meeting room",
        "arrival_radius_m": 2.0,
        "category": "intent_meeting",
        "required_reasoning": "intent(meeting) → room_prior(meeting_room) → explore_if_unknown"
      },
      {
        "id": "L4-06",
        "instruction_zh": "我想洗手",
        "instruction_en": "I want to wash my hands",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": -2.0, "y": 1.0, "z": 0.0},
        "target_label": "bathroom sink",
        "arrival_radius_m": 2.0,
        "category": "intent_bathroom",
        "required_reasoning": "intent(wash_hands) → room_prior(bathroom, sink=0.90)"
      },
      {
        "id": "L4-07",
        "instruction_zh": "我饿了",
        "instruction_en": "I am hungry",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 10.0, "y": 6.0, "z": 0.0},
        "target_label": "kitchen",
        "arrival_radius_m": 2.0,
        "category": "intent_kitchen",
        "required_reasoning": "intent(hungry) → room_prior(kitchen, refrigerator=0.90)"
      },
      {
        "id": "L4-08",
        "instruction_zh": "帮我找个能工作的地方",
        "instruction_en": "help me find a place to work",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 4.5, "y": 3.5, "z": 0.0},
        "target_label": "office",
        "arrival_radius_m": 2.0,
        "category": "intent_office",
        "required_reasoning": "intent(work) → room_prior(office, desk=0.95 + computer=0.85)"
      },
      {
        "id": "L4-09",
        "instruction_zh": "哪里可以放东西",
        "instruction_en": "where can I store things",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 8.5, "y": 3.5, "z": 0.0},
        "target_label": "storage",
        "arrival_radius_m": 2.0,
        "category": "intent_storage",
        "required_reasoning": "intent(store) → room_prior(storage, shelf=0.90 + cabinet=0.85)"
      },
      {
        "id": "L4-10",
        "instruction_zh": "带我去安全出口",
        "instruction_en": "take me to the emergency exit",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 14.0, "y": 0.0, "z": 1.0},
        "target_label": "exit door",
        "arrival_radius_m": 1.5,
        "category": "intent_safety",
        "required_reasoning": "intent(emergency_exit) → nearest(exit_door OR emergency_exit)"
      },
      {
        "id": "L4-11",
        "instruction_zh": "我迷路了，帮我找到出口",
        "instruction_en": "I'm lost, help me find the way out",
        "start_position": {"x": 8.0, "y": 3.0, "z": 0.0},
        "target_position": {"x": 14.0, "y": 0.0, "z": 1.0},
        "target_label": "exit door",
        "arrival_radius_m": 1.5,
        "category": "intent_safety",
        "required_reasoning": "intent(lost, exit) → plan_route(nearest exit_door)"
      },
      {
        "id": "L4-12",
        "instruction_zh": "我要看电视",
        "instruction_en": "I want to watch TV",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 7.0, "y": 5.5, "z": 1.0},
        "target_label": "tv",
        "arrival_radius_m": 1.5,
        "category": "intent_entertainment",
        "required_reasoning": "intent(watch_tv) → find(tv) in room_prior(lounge, tv=0.30)"
      },
      {
        "id": "L4-13",
        "instruction_zh": "有没有热水可以泡茶",
        "instruction_en": "is there hot water to make tea",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 10.0, "y": 6.0, "z": 0.0},
        "target_label": "kitchen kettle",
        "arrival_radius_m": 2.0,
        "category": "intent_kitchen",
        "required_reasoning": "intent(hot_water, tea) → room_prior(kitchen, kettle=0.70)"
      },
      {
        "id": "L4-14",
        "instruction_zh": "帮我找一个安静的地方",
        "instruction_en": "help me find a quiet place",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 8.5, "y": 3.5, "z": 0.0},
        "target_label": "storage",
        "arrival_radius_m": 2.0,
        "category": "intent_abstract",
        "required_reasoning": "intent(quiet) → room_prior(storage/empty_room) OR least_people"
      },
      {
        "id": "L4-15",
        "instruction_zh": "发生火灾了，带我去最近的灭火器",
        "instruction_en": "there is a fire, take me to the nearest fire extinguisher",
        "start_position": {"x": 6.0, "y": 3.0, "z": 0.0},
        "target_position": {"x": 4.0, "y": 1.0, "z": 0.8},
        "target_label": "fire extinguisher",
        "arrival_radius_m": 1.0,
        "category": "intent_emergency",
        "required_reasoning": "intent(fire_emergency) → nearest(fire_extinguisher) + URGENT_priority"
      }
    ]
  },

  "L5_exploration": {
    "description": "探索/巡逻指令 (10 条) — 需要 TSG 拓扑图 + 信息增益 + 穿越记忆",
    "difficulty": "hard",
    "instructions": [
      {
        "id": "L5-01",
        "instruction_zh": "把所有房间都走一遍",
        "instruction_en": "visit every room",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": null,
        "target_label": "all rooms",
        "arrival_radius_m": 2.0,
        "category": "full_exploration",
        "required_reasoning": "tsg.plan_full_coverage()"
      },
      {
        "id": "L5-02",
        "instruction_zh": "去看看还有哪里没去过",
        "instruction_en": "go check the places I haven't been to yet",
        "start_position": {"x": 4.5, "y": 3.5, "z": 0.0},
        "target_position": null,
        "target_label": "unexplored areas",
        "arrival_radius_m": 2.0,
        "category": "frontier_exploration",
        "required_reasoning": "tsg.get_best_exploration_target(visited=[office])"
      },
      {
        "id": "L5-03",
        "instruction_zh": "帮我探索一下这栋楼有什么",
        "instruction_en": "help me explore what is in this building",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": null,
        "target_label": "building overview",
        "arrival_radius_m": 2.0,
        "category": "full_exploration",
        "required_reasoning": "tsg.plan_full_coverage() → report_scene_summary()"
      },
      {
        "id": "L5-04",
        "instruction_zh": "检查走廊两侧所有的门",
        "instruction_en": "check all the doors on both sides of the corridor",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "door 1", "position": {"x": 3.5, "y": 1.2, "z": 1.0}},
          {"label": "door 2", "position": {"x": 8.0, "y": 0.5, "z": 1.0}},
          {"label": "door 3", "position": {"x": 12.0, "y": 0.5, "z": 1.0}},
          {"label": "exit door", "position": {"x": 14.0, "y": 0.0, "z": 1.0}}
        ],
        "target_position": {"x": 14.0, "y": 0.0, "z": 1.0},
        "target_label": "all corridor doors",
        "arrival_radius_m": 1.5,
        "category": "corridor_patrol",
        "step_count": 4,
        "required_reasoning": "filter(door, room=corridor) → sequential_visit"
      },
      {
        "id": "L5-05",
        "instruction_zh": "绕整个走廊走一圈",
        "instruction_en": "walk around the entire corridor",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_label": "corridor loop",
        "arrival_radius_m": 1.5,
        "category": "loop_patrol",
        "required_reasoning": "plan_route(corridor, loop=true)"
      },
      {
        "id": "L5-06",
        "instruction_zh": "去没探索过的最大区域",
        "instruction_en": "go to the largest unexplored area",
        "start_position": {"x": 4.5, "y": 3.5, "z": 0.0},
        "target_position": null,
        "target_label": "largest unexplored",
        "arrival_radius_m": 2.0,
        "category": "frontier_exploration",
        "required_reasoning": "tsg.get_best_exploration_target(sort_by=area)"
      },
      {
        "id": "L5-07",
        "instruction_zh": "每个房间进去看一看，回来告诉我各房间有什么",
        "instruction_en": "go into each room and come back to report what is in each",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "target_label": "room inventory",
        "arrival_radius_m": 2.0,
        "category": "survey",
        "required_reasoning": "for_each(room) explore+catalog then return+report"
      },
      {
        "id": "L5-08",
        "instruction_zh": "去信息增益最高的方向探索",
        "instruction_en": "explore in the direction with highest information gain",
        "start_position": {"x": 4.5, "y": 3.5, "z": 0.0},
        "target_position": null,
        "target_label": "max IG frontier",
        "arrival_radius_m": 2.0,
        "category": "information_gain",
        "required_reasoning": "tsg.get_best_exploration_target(sort_by=information_gain)"
      },
      {
        "id": "L5-09",
        "instruction_zh": "帮我巡视一下安全设备是否都在",
        "instruction_en": "patrol and verify all safety equipment is in place",
        "start_position": {"x": 0.0, "y": 0.0, "z": 0.0},
        "waypoints": [
          {"label": "fire ext 1", "position": {"x": 4.0, "y": 1.0, "z": 0.8}},
          {"label": "fire ext 2", "position": {"x": 8.0, "y": 0.5, "z": 0.8}},
          {"label": "fire ext 3", "position": {"x": 12.0, "y": -0.5, "z": 0.8}},
          {"label": "sign 1", "position": {"x": 6.0, "y": -0.5, "z": 1.5}},
          {"label": "sign 2", "position": {"x": 11.5, "y": -0.5, "z": 1.5}}
        ],
        "target_position": {"x": 11.5, "y": -0.5, "z": 1.5},
        "target_label": "all safety equipment",
        "arrival_radius_m": 1.5,
        "category": "safety_patrol",
        "step_count": 5,
        "required_reasoning": "filter(safety_category) → sequential_visit + verify"
      },
      {
        "id": "L5-10",
        "instruction_zh": "这个区域你觉得哪里值得去看看",
        "instruction_en": "which area do you think is worth exploring",
        "start_position": {"x": 4.5, "y": 3.5, "z": 0.0},
        "target_position": null,
        "target_label": "recommended exploration",
        "arrival_radius_m": 2.0,
        "category": "recommendation",
        "required_reasoning": "tsg.get_best_exploration_target() → explain reasoning"
      }
    ]
  },

  "evaluation_metrics": {
    "SR": "Success Rate: distance to target < arrival_radius_m",
    "SPL": "Success weighted by Path Length: SR * (shortest_path / actual_path)",
    "avg_time_sec": "Average navigation time in seconds",
    "avg_steps": "Average exploration steps before reaching target",
    "failure_categories": [
      "detection_failure",
      "scene_graph_error",
      "planning_error",
      "motion_failure",
      "timeout",
      "attribute_mismatch",
      "negation_failure",
      "intent_misunderstanding"
    ]
  },

  "ablation_groups": {
    "full": "Complete NaviMind system",
    "wo_scene_graph": "Pure CLIP matching (CoW-style), disable scene graph",
    "wo_hierarchy": "Flat scene graph (no Room/Group), only objects",
    "wo_reperception": "Disable arrival_reperception",
    "wo_closed_loop": "Disable execution_context + replan",
    "wo_exploration": "Only match known scene graph, no frontier exploration",
    "wo_belief": "Disable BA-HSG belief system",
    "wo_tsg": "Disable Topology Semantic Graph",
    "wo_voi": "Fixed-interval scheduling instead of VoI",
    "wo_semantic_prior": "No room-object prior knowledge"
  },

  "statistics": {
    "total_instructions": 108,
    "by_level": {
      "L1_simple": 20,
      "L1b_attribute": 10,
      "L2_spatial": 15,
      "L2b_negation": 10,
      "L2c_comparative": 8,
      "L3_multistep": 10,
      "L3b_conditional": 10,
      "L4_intent": 15,
      "L5_exploration": 10
    },
    "by_difficulty": {
      "easy": 20,
      "easy-medium": 10,
      "medium": 15,
      "medium-hard": 18,
      "hard": 45
    },
    "capabilities_tested": [
      "label_matching",
      "clip_attribute_disambiguation",
      "spatial_relation_reasoning",
      "room_context_inference",
      "negation_handling",
      "ordinal_distance_ranking",
      "multi_step_decomposition",
      "conditional_branching",
      "semantic_prior_inference",
      "topology_exploration",
      "information_gain_planning",
      "traversal_memory",
      "follow_person",
      "emergency_priority"
    ]
  }
}
