# thunder éƒ¨ç½²æ£€æŸ¥æ¸…å•

åœ¨éƒ¨ç½² thunder æœºå™¨äººä¹‹å‰ï¼Œè¯·æŒ‰ç…§æ­¤æ¸…å•é€é¡¹æ£€æŸ¥ã€‚

## âœ… ç¯å¢ƒå‡†å¤‡

- [ ] Python 3.8+ å·²å®‰è£…
- [ ] pip3 å·²å®‰è£…
- [ ] ROS2 Humble å·²å®‰è£…
- [ ] 3D-NAV å·¥ä½œç©ºé—´å·²ç¼–è¯‘

## âœ… é£ä¹¦åº”ç”¨é…ç½®

- [ ] å·²è®¿é—® https://open.feishu.cn/
- [ ] å·²åˆ›å»ºä¼ä¸šè‡ªå»ºåº”ç”¨ï¼ˆåç§°: thunderï¼‰
- [ ] å·²è·å– App IDï¼ˆä»¥ `cli_` å¼€å¤´ï¼‰
- [ ] å·²è·å– App Secretï¼ˆ32ä½å­—ç¬¦ä¸²ï¼‰
- [ ] å·²é…ç½®æƒé™ï¼š
  - [ ] `im:message` - è·å–ä¸å‘é€æ¶ˆæ¯
  - [ ] `im:message:send_as_bot` - ä»¥åº”ç”¨èº«ä»½å‘æ¶ˆæ¯
- [ ] å·²åˆ›å»ºç‰ˆæœ¬å¹¶å‘å¸ƒ
- [ ] å·²è·å–æ¥æ”¶è€… IDï¼š
  - [ ] ç”¨æˆ· open_idï¼ˆä»¥ `ou_` å¼€å¤´ï¼‰æˆ–
  - [ ] ç¾¤ç»„ chat_idï¼ˆä»¥ `oc_` å¼€å¤´ï¼‰
- [ ] å·²å°†æœºå™¨äººæ·»åŠ ä¸ºå¥½å‹æˆ–åŠ å…¥ç¾¤ç»„

## âœ… ä¾èµ–å®‰è£…

- [ ] å·²è¿è¡Œ `./install_feishu_bot.sh` æˆ–
- [ ] å·²è¿è¡Œ `pip3 install -r requirements_feishu.txt`
- [ ] lark-oapi ç‰ˆæœ¬ >= 1.5.3

## âœ… é…ç½®æ–‡ä»¶

- [ ] å·²ç¼–è¾‘ `feishu_monitor_bot.py` ç¬¬ 149-151 è¡Œ
- [ ] å·²å¡«å…¥æ­£ç¡®çš„ APP_ID
- [ ] å·²å¡«å…¥æ­£ç¡®çš„ APP_SECRET
- [ ] å·²å¡«å…¥æ­£ç¡®çš„ RECEIVE_ID

## âœ… æµ‹è¯•éªŒè¯

- [ ] å·²è¿è¡Œ `python3 test_feishu.py`
- [ ] æµ‹è¯•æ¶ˆæ¯å‘é€æˆåŠŸ
- [ ] é£ä¹¦ä¸­æ”¶åˆ°æµ‹è¯•æ¶ˆæ¯

## âœ… ROS2 ç¯å¢ƒ

- [ ] `/nav/semantic/status` è¯é¢˜å­˜åœ¨
- [ ] å¯ä»¥ä½¿ç”¨ `ros2 topic echo /nav/semantic/status` æŸ¥çœ‹æ¶ˆæ¯
- [ ] ROS2 ç¯å¢ƒå˜é‡å·²æ­£ç¡®è®¾ç½®

## âœ… è¿è¡Œæµ‹è¯•

### æ–¹å¼ 1: ç›´æ¥è¿è¡Œ

```bash
cd D:/robot/code/3dnav/3d_NAV/scripts
source /opt/ros/humble/setup.bash
source ~/3d_NAV/install/setup.bash
python3 feishu_monitor_bot.py
```

- [ ] æœºå™¨äººå¯åŠ¨æˆåŠŸ
- [ ] é£ä¹¦æ”¶åˆ°å¯åŠ¨é€šçŸ¥
- [ ] æ— é”™è¯¯æ—¥å¿—

### æ–¹å¼ 2: ä½¿ç”¨å¯åŠ¨è„šæœ¬

```bash
cd D:/robot/code/3dnav/3d_NAV/scripts
./start_thunder.sh
```

- [ ] è„šæœ¬è¿è¡ŒæˆåŠŸ
- [ ] æœºå™¨äººæ­£å¸¸å¯åŠ¨

## âœ… ç³»ç»ŸæœåŠ¡ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦å¼€æœºè‡ªå¯ï¼š

```bash
cd D:/robot/code/3dnav/3d_NAV/scripts
sudo ./thunder_service.sh install
sudo ./thunder_service.sh start
sudo ./thunder_service.sh status
```

- [ ] æœåŠ¡å®‰è£…æˆåŠŸ
- [ ] æœåŠ¡å¯åŠ¨æˆåŠŸ
- [ ] æœåŠ¡çŠ¶æ€æ­£å¸¸

## âœ… åŠŸèƒ½éªŒè¯

- [ ] å¯¼èˆªçŠ¶æ€å˜åŒ–æ—¶æ”¶åˆ°é£ä¹¦æ¶ˆæ¯
- [ ] æ¶ˆæ¯æ ¼å¼æ­£ç¡®
- [ ] æ¶ˆæ¯å†…å®¹å‡†ç¡®
- [ ] å¡ç‰‡æ¶ˆæ¯æ˜¾ç¤ºæ­£å¸¸

## ğŸ› æ•…éšœæ’æŸ¥

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œæ£€æŸ¥ï¼š

1. **å‡­è¯é”™è¯¯**
   ```bash
   # æ£€æŸ¥ App ID å’Œ App Secret æ˜¯å¦æ­£ç¡®
   python3 test_feishu.py
   ```

2. **æƒé™é—®é¢˜**
   - ç¡®è®¤å·²æ·»åŠ  `im:message` æƒé™
   - ç¡®è®¤åº”ç”¨å·²å‘å¸ƒ

3. **æ¥æ”¶è€… ID é”™è¯¯**
   - ç¡®è®¤ open_id æ ¼å¼æ­£ç¡®ï¼ˆ`ou_` å¼€å¤´ï¼‰
   - ç¡®è®¤æœºå™¨äººå·²æ·»åŠ ä¸ºå¥½å‹

4. **ROS2 è¯é¢˜é—®é¢˜**
   ```bash
   # æ£€æŸ¥è¯é¢˜æ˜¯å¦å­˜åœ¨
   ros2 topic list | grep status

   # æŸ¥çœ‹è¯é¢˜æ¶ˆæ¯
   ros2 topic echo /nav/semantic/status
   ```

5. **æŸ¥çœ‹æ—¥å¿—**
   ```bash
   # å¦‚æœä½¿ç”¨ç³»ç»ŸæœåŠ¡
   sudo journalctl -u thunder -f
   ```

## ğŸ“š å‚è€ƒæ–‡æ¡£

- è¯¦ç»†é…ç½®: `docs/guides/FEISHU_BOT_SETUP.md`
- å¿«é€Ÿå‚è€ƒ: `scripts/QUICK_REFERENCE.md`
- è„šæœ¬è¯´æ˜: `scripts/README.md`

---

**å®Œæˆæ‰€æœ‰æ£€æŸ¥é¡¹åï¼Œthunder æœºå™¨äººå³å¯æ­£å¸¸è¿è¡Œï¼** ğŸ‰
